<!DOCTYPE HTML>
<html ng-app="app">
<head>
  <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700" rel="stylesheet" type="text/css"/>
  <link href="assets/style.css" rel="stylesheet" type="text/css"/>
  <link href="assets/piano.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div class="jumbotron">
  <div class="container">
    <div class="col-sm-8 col-sm-offset-2">
      <div ng-class="{ 'alert': flash, 'alert-success': flash.type === 'success', 'alert-danger': flash.type === 'error' }"
           ng-if="flash" ng-bind="flash.message"></div>
      <div ng-view></div>
    </div>
  </div>
</div>
<div>
  <div ng-controller="ChatCtrl" class="container">
    <form ng-submit="addMessage()" name="messageForm">
      <input type="text" placeholder="Compose a new message..." ng-model="message"/>

      <div class="info">
        <span class="count" ng-bind="max - message.length" ng-class="{danger: message.length > max}">140</span>
        <button ng-disabled="message.length > max || message.length === 0">Send</button>
      </div>
    </form>
    <hr/>
    <p ng-repeat="message in messages | orderBy:'time':true" class="message">
      <time>{{message.time | date:'HH:mm'}}</time>
      <span ng-class="{self: message.self}">{{message.message}}</span>
    </p>
  </div>


  <div ng-controller="MainCtrl" ng-keydown="onKeyDown($event)" ng-keyup="onKeyUp($event)"
       ng-keypress="onKeyPress($event)">
    <object id="Jazz1" classid="CLSID:1ACE1618-1C7D-4561-AEE1-34842AA85E90" class="hidden">
      <object id="Jazz2" type="audio/x-jazz" class="hidden">
        <p style="visibility:visible;">This page requires <a href=http://jazz-soft.net>Jazz-Plugin</a> ...</p>
      </object>
    </object>

    <div id=piano class="Center">
      <div class=ebony ng-model="keys">
        <span ng-repeat="i in keys.b track by $index" id="{{i}}"
              ng-class="{'break': keys.b[$index] == '|', 'on': isSelected(i)}" ng-mousedown="down(keys.b[$index])"
              ng-mouseup="up(keys.b[$index])"></span>
      </div>
      <div class=ivory ng-model="keys">
          <span ng-repeat="i in keys.w" id="{{i}}" ng-mousedown="down(keys.w[$index])" ng-mouseup="up(keys.w[$index])"
                ng-class="{'on': isSelected(i)}"></span>
      </div>
    </div>
    <p>
      <label>MIDI In:</label><select id=selectmidi2 ng-change="changemidi();" ng-model="_in">
      <option ng-init="_in=list[0]" ng-repeat="i in listIn" ng-selected="{{i==_in}}" value="{{i}}">{{i}}</option>
    </select>

      <label>MIDI Out:</label><select id=selectmidi ng-change="changemidi2();" ng-model="_out">
      <option ng-init="_out=list[0]" ng-repeat="i in list" ng-selected="{{i==_out}}" value="{{i}}">{{i}}</option>
    </select>
      <label>Sound: </label><select id=midiSnd ng-change='changeSnd();' ng-model="_sound">
      <option ng-init="_sound='Drawbar Organ'" ng-repeat="i in sounds" ng-selected="{{i==_sound}}" value="{{i}}">
        {{i}}
      </option>
    </select>
    </p>
    <strong>MIDI Notes :</strong> {{note}}
    <div>
      User:<input ng-model="user"/>
      <button ng-click="replay()">Replay</button>
      <button ng-click="replayAll()">Replay all</button>
      <button ng-click="clear()">Clear</button>
      <button ng-click="reset()">Reset</button>
      Song title:<input ng-model="songTitle"/>
      Version:<input ng-model="version"/>
      Description:<input ng-model="desc"/>
      Mute:<input type="checkbox" ng-model="isMuted.value"/>
    </div>
  </div>
</div>

</body>

<script src="libs/sockjs/sockjs.min.js" type="text/javascript"></script>
<script src="libs/stomp-websocket/lib/stomp.min.js" type="text/javascript"></script>
<script src="libs/angular/angular.min.js"></script>
<script src="libs/angular-cookies/angular-cookies.min.js"></script>
<script src="libs/angular-resource/angular-resource.min.js"></script>
<script src="libs/angular-route/angular-route.min.js"></script>
<script src="libs/lodash/lodash.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="app/keys.js" type="text/javascript"></script>
<script src="app/gmidi.js" type="text/javascript"></script>
<script src="app/app.js" type="text/javascript"></script>
<script src="app/chat/controller.js" type="text/javascript"></script>
<script src="app/midi/controller.js" type="text/javascript"></script>
<script src="app/services.js" type="text/javascript"></script>
<script src="app-services/authentication.service.js"></script>
<script src="app-services/flash.service.js"></script>
<script src="app-services/user.service.local-storage.js"></script>
<script src="home/home.controller.js"></script>
<script src="login/login.controller.js"></script>
<script src="register/register.controller.js"></script>

</html>
